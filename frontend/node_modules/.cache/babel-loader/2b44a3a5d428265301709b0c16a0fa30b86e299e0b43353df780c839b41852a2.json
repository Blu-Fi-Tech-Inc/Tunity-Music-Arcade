{"ast":null,"code":"var _jsxFileName = \"D:\\\\PRIDE\\\\frontend\\\\src\\\\components\\\\playlist\\\\PlaylistTrackCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { BsFillPauseFill, BsFillPlayFill } from \"react-icons/bs\";\nimport { FaPlay } from \"react-icons/fa\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlaylistTrackCard = _ref => {\n  _s();\n  let {\n    track,\n    setCurrentPlaying,\n    playTrack,\n    stopTrack,\n    setQueue,\n    className\n  } = _ref;\n  const dispatch = useDispatch();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const currentSong = useSelector(state => state.currentSongReducer);\n  const toggleAudio = () => {\n    // set music and set play\n    if (isPlaying) {\n      // dispatch({ type: \"SETPLAYING\", play: false });\n      dispatch({\n        type: \"CHANGESONG\",\n        song: {\n          ...track,\n          isPlaying: false\n        }\n      });\n\n      // setIsPlaying(false);\n    } else {\n      dispatch({\n        type: \"CHANGESONG\",\n        song: {\n          ...track,\n          isPlaying: true\n        }\n      });\n      setQueue();\n    }\n  };\n  useEffect(() => {\n    if (!setCurrentPlaying) {\n      return;\n    }\n    setCurrentPlaying(track);\n    if (isPlaying) {\n      playTrack();\n    } else {\n      stopTrack();\n    }\n  }, [isPlaying]);\n  useEffect(() => {\n    if (!currentSong || currentSong.audioUrl != track.audioUrl) {\n      setIsPlaying(false);\n    } else {\n      setIsPlaying(currentSong.isPlaying);\n    }\n  }, [currentSong]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-row border-solid border-b p-[5px] bg-white justify-between hover:bg-[#f2f2f2] cursor-pointer text-xs ${className}`,\n    onClick: toggleAudio,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr-3\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: track.coverUrl,\n          className: \"h-[-20px] w-[20px] \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr-2 text-[#999]\",\n        children: track.user ? track.user.username : \"Undefined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u2022\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2\",\n        children: track.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row text-[#999] items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: !isPlaying ? /*#__PURE__*/_jsxDEV(BsFillPlayFill, {\n          className: \"transform\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(BsFillPauseFill, {\n          className: \"transform\",\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: track.listenedTime\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(PlaylistTrackCard, \"FqU/9/0gw3hgK+97zWJ8w/txV2U=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = PlaylistTrackCard;\nexport default PlaylistTrackCard;\nvar _c;\n$RefreshReg$(_c, \"PlaylistTrackCard\");","map":{"version":3,"names":["React","useEffect","useState","BsFillPauseFill","BsFillPlayFill","FaPlay","useDispatch","useSelector","jsxDEV","_jsxDEV","PlaylistTrackCard","_ref","_s","track","setCurrentPlaying","playTrack","stopTrack","setQueue","className","dispatch","isPlaying","setIsPlaying","currentSong","state","currentSongReducer","toggleAudio","type","song","audioUrl","onClick","children","src","coverUrl","fileName","_jsxFileName","lineNumber","columnNumber","user","username","name","size","listenedTime","_c","$RefreshReg$"],"sources":["D:/PRIDE/frontend/src/components/playlist/PlaylistTrackCard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BsFillPauseFill, BsFillPlayFill } from \"react-icons/bs\";\nimport { FaPlay } from \"react-icons/fa\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst PlaylistTrackCard = ({\n  track,\n  setCurrentPlaying,\n  playTrack,\n  stopTrack,\n  setQueue,\n  className\n}) => {\n  const dispatch = useDispatch();\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const currentSong = useSelector((state) => state.currentSongReducer);\n\n  const toggleAudio = () => {\n    // set music and set play\n    if (isPlaying) {\n      // dispatch({ type: \"SETPLAYING\", play: false });\n      dispatch({\n        type: \"CHANGESONG\",\n        song: {\n          ...track,\n          isPlaying: false,\n        },\n      });\n\n      // setIsPlaying(false);\n    } else {\n      dispatch({\n        type: \"CHANGESONG\",\n        song: {\n          ...track,\n          isPlaying: true,\n        },\n      });\n      setQueue();\n    }\n  };\n  useEffect(() => {\n    if (!setCurrentPlaying) {\n      return;\n    }\n    setCurrentPlaying(track);\n    if (isPlaying) {\n      playTrack();\n    } else {\n      stopTrack();\n    }\n  }, [isPlaying]);\n  useEffect(() => {\n    if (!currentSong || currentSong.audioUrl != track.audioUrl) {\n      setIsPlaying(false);\n    } else {\n      setIsPlaying(currentSong.isPlaying);\n    }\n  }, [currentSong]);\n\n  return (\n    <div\n      className={`flex flex-row border-solid border-b p-[5px] bg-white justify-between hover:bg-[#f2f2f2] cursor-pointer text-xs ${className}`}\n      onClick={toggleAudio}\n    >\n      <div className=\"flex flex-row\">\n        <span className=\"mr-3\">\n          <img src={track.coverUrl} className=\"h-[-20px] w-[20px] \" />\n        </span>\n        <span className=\"mr-2 text-[#999]\">\n          {track.user ? track.user.username : \"Undefined\"}\n        </span>\n        <span>&bull;</span>\n        <span className=\"ml-2\">{track.name}</span>\n      </div>\n      <div className=\"flex flex-row text-[#999] items-center\">\n        <span>\n          {!isPlaying ? (\n            <BsFillPlayFill className=\"transform\" />\n          ) : (\n            <BsFillPauseFill className=\"transform\" size={20} />\n          )}\n          {/* <BsFillPlayFill className=\"transform\" /> */}\n        </span>\n        <span>{track.listenedTime}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default PlaylistTrackCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}