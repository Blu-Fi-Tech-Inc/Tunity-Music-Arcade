{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tunify-Music-Arcade\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { Route, Routes } from \"react-router-dom\";\nimport Login from \"./components/modals/LoginModal\";\nimport HomePage from \"./pages/home-page/HomePage\";\nimport { useEffect, useState } from \"react\";\nimport UnauthenticatedHomePage from \"./pages/home-page/UnauthenticatedHomePage\";\nimport MediaControl from \"./layouts/media-control/MediaControl\";\nimport TopBar from \"./layouts/topbar/TopBar\";\nimport { UploadPage } from \"./pages/upload-page/UploadPage\";\nimport UserPage from \"./pages/user-page/UserPage\";\nimport loading from \"./assets/images/soundcloud-loading.gif\";\nimport NotificationBar from \"./components/modals/NotificationBar\";\nimport { useDispatch } from \"react-redux\";\nimport { validateToken } from \"./apis/auth/validateToken\";\nimport TrackPage from \"./pages/track-page/TrackPage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [tokenValidated, setTokenValidated] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const checkToken = async () => {\n      try {\n        const data = await validateToken();\n        if (data) {\n          console.log(\"Token is valid\");\n          dispatch({\n            type: \"SET_USER\",\n            user: data\n          });\n          setIsAuthenticated(true);\n        } else {\n          console.log(\"Token is invalid\");\n        }\n      } catch (error) {\n        // console.error(\"Error checking token:\", error);\n      } finally {\n        setTokenValidated(true);\n      }\n    };\n    checkToken();\n  }, []);\n  if (!tokenValidated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center bg-[#FBFBFB] h-screen w-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-[100vh] relative overflow-x-hidden\",\n    children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(Routes, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(UnauthenticatedHomePage, {\n          setIsAuthenticated: setIsAuthenticated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center flex-1 bg-[#F2F2F2]\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-[1240px] bg-white pb-8\",\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home\",\n              element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/upload\",\n              element: /*#__PURE__*/_jsxDEV(UploadPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/user/:userId/*\",\n              element: /*#__PURE__*/_jsxDEV(UserPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 56\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/track/:trackId\",\n              element: /*#__PURE__*/_jsxDEV(TrackPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 56\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"*\",\n              element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NotificationBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MediaControl, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"J5vgxow58OiFk0dycuJnyFrL0uk=\", false, function () {\n  return [useDispatch];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Route","Routes","Login","HomePage","useEffect","useState","UnauthenticatedHomePage","MediaControl","TopBar","UploadPage","UserPage","loading","NotificationBar","useDispatch","validateToken","TrackPage","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","isAuthenticated","setIsAuthenticated","tokenValidated","setTokenValidated","dispatch","checkToken","data","console","log","type","user","error","className","children","src","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","$RefreshReg$"],"sources":["D:/Tunify-Music-Arcade/frontend/src/App.js"],"sourcesContent":["import { Route, Routes } from \"react-router-dom\";\n\nimport Login from \"./components/modals/LoginModal\";\nimport HomePage from \"./pages/home-page/HomePage\";\n\nimport { useEffect, useState } from \"react\";\nimport UnauthenticatedHomePage from \"./pages/home-page/UnauthenticatedHomePage\";\nimport MediaControl from \"./layouts/media-control/MediaControl\";\nimport TopBar from \"./layouts/topbar/TopBar\";\nimport { UploadPage } from \"./pages/upload-page/UploadPage\";\nimport UserPage from \"./pages/user-page/UserPage\";\nimport loading from \"./assets/images/soundcloud-loading.gif\";\nimport NotificationBar from \"./components/modals/NotificationBar\";\nimport { useDispatch } from \"react-redux\";\nimport { validateToken } from \"./apis/auth/validateToken\";\nimport TrackPage from \"./pages/track-page/TrackPage\";\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [tokenValidated, setTokenValidated] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const checkToken = async () => {\n      try {\n        const data = await validateToken();\n        if (data) {\n          console.log(\"Token is valid\");\n          dispatch({ type: \"SET_USER\", user: data });\n          setIsAuthenticated(true);\n        } else {\n          console.log(\"Token is invalid\");\n        }\n      } catch (error) {\n        // console.error(\"Error checking token:\", error);\n      } finally {\n        setTokenValidated(true);\n      }\n    };\n\n    checkToken();\n  }, []);\n\n  if (!tokenValidated) {\n    return (\n      <div className=\"flex items-center justify-center bg-[#FBFBFB] h-screen w-screen\">\n        <img src={loading} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-[100vh] relative overflow-x-hidden\">\n      {!isAuthenticated ? (\n        <Routes>\n          <Route\n            path=\"*\"\n            element={\n              <UnauthenticatedHomePage\n                setIsAuthenticated={setIsAuthenticated}\n              />\n            }\n          />\n        </Routes>\n      ) : (\n        <>\n          <TopBar />\n          <div className=\"flex justify-center flex-1 bg-[#F2F2F2]\">\n            <div className=\"w-[1240px] bg-white pb-8\">\n              <Routes>\n                <Route path=\"/home\" element={<HomePage />} />\n                <Route path=\"/upload\" element={<UploadPage />} />\n                <Route path=\"/user/:userId/*\" element={<UserPage />} />\n                <Route path=\"/track/:trackId\" element={<TrackPage />} />\n                <Route path=\"*\" element={<HomePage />} />\n              </Routes>\n            </div>\n          </div>\n          <NotificationBar />\n          <MediaControl />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,MAAM,QAAQ,kBAAkB;AAEhD,OAAOC,KAAK,MAAM,gCAAgC;AAClD,OAAOC,QAAQ,MAAM,4BAA4B;AAEjD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,uBAAuB,MAAM,2CAA2C;AAC/E,OAAOC,YAAY,MAAM,sCAAsC;AAC/D,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,SAASC,UAAU,QAAQ,gCAAgC;AAC3D,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,OAAO,MAAM,wCAAwC;AAC5D,OAAOC,eAAe,MAAM,qCAAqC;AACjE,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,aAAa,QAAQ,2BAA2B;AACzD,OAAOC,SAAS,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAErD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACmB,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAMqB,QAAQ,GAAGb,WAAW,EAAE;EAE9BT,SAAS,CAAC,MAAM;IACd,MAAMuB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,IAAI,GAAG,MAAMd,aAAa,EAAE;QAClC,IAAIc,IAAI,EAAE;UACRC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;UAC7BJ,QAAQ,CAAC;YAAEK,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAEJ;UAAK,CAAC,CAAC;UAC1CL,kBAAkB,CAAC,IAAI,CAAC;QAC1B,CAAC,MAAM;UACLM,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QACjC;MACF,CAAC,CAAC,OAAOG,KAAK,EAAE;QACd;MAAA,CACD,SAAS;QACRR,iBAAiB,CAAC,IAAI,CAAC;MACzB;IACF,CAAC;IAEDE,UAAU,EAAE;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACH,cAAc,EAAE;IACnB,oBACEP,OAAA;MAAKiB,SAAS,EAAC,iEAAiE;MAAAC,QAAA,eAC9ElB,OAAA;QAAKmB,GAAG,EAAEzB;MAAQ;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAG;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACjB;EAEV;EAEA,oBACEvB,OAAA;IAAKiB,SAAS,EAAC,oDAAoD;IAAAC,QAAA,EAChE,CAACb,eAAe,gBACfL,OAAA,CAAChB,MAAM;MAAAkC,QAAA,eACLlB,OAAA,CAACjB,KAAK;QACJyC,IAAI,EAAC,GAAG;QACRC,OAAO,eACLzB,OAAA,CAACX,uBAAuB;UACtBiB,kBAAkB,EAAEA;QAAmB;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAE1C;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACK,gBAETvB,OAAA,CAAAE,SAAA;MAAAgB,QAAA,gBACElB,OAAA,CAACT,MAAM;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eACVvB,OAAA;QAAKiB,SAAS,EAAC,yCAAyC;QAAAC,QAAA,eACtDlB,OAAA;UAAKiB,SAAS,EAAC,0BAA0B;UAAAC,QAAA,eACvClB,OAAA,CAAChB,MAAM;YAAAkC,QAAA,gBACLlB,OAAA,CAACjB,KAAK;cAACyC,IAAI,EAAC,OAAO;cAACC,OAAO,eAAEzB,OAAA,CAACd,QAAQ;gBAAAkC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAI;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAG,eAC7CvB,OAAA,CAACjB,KAAK;cAACyC,IAAI,EAAC,SAAS;cAACC,OAAO,eAAEzB,OAAA,CAACR,UAAU;gBAAA4B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAI;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAG,eACjDvB,OAAA,CAACjB,KAAK;cAACyC,IAAI,EAAC,iBAAiB;cAACC,OAAO,eAAEzB,OAAA,CAACP,QAAQ;gBAAA2B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAI;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAG,eACvDvB,OAAA,CAACjB,KAAK;cAACyC,IAAI,EAAC,iBAAiB;cAACC,OAAO,eAAEzB,OAAA,CAACF,SAAS;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAI;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAG,eACxDvB,OAAA,CAACjB,KAAK;cAACyC,IAAI,EAAC,GAAG;cAACC,OAAO,eAAEzB,OAAA,CAACd,QAAQ;gBAAAkC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAI;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAG;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAClC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MACL;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACF,eACNvB,OAAA,CAACL,eAAe;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eACnBvB,OAAA,CAACV,YAAY;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IAAA;EAEnB;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEV;AAACnB,EAAA,CAnEQD,GAAG;EAAA,QAGOP,WAAW;AAAA;AAAA8B,EAAA,GAHrBvB,GAAG;AAqEZ,eAAeA,GAAG;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}